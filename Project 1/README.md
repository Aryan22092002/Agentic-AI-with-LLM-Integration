# Guided Component Architect â€” Agentic Loop

What this is
- A small agentic pipeline that turns a natural language prompt into Angular component files (TypeScript, HTML, SCSS) while enforcing a Design System.
- Built components are generated by an LLM (OpenAI) or a local mock generator when an API key is not available.

Files
- `design-tokens.json`: the design system tokens used by the validator and injected into LLM prompts.
- `generator.py`: builds the LLM prompt (prompt-engineered to output raw file blocks), calls the LLM, and parses file blocks.
- `validator.py`: inspects the generated files for design-token usage and simple syntax issues; reports errors.
- `run.py`: orchestrator that runs generation, validation, and an automatic self-correction loop (re-prompts the LLM with the validator errors).
- `requirements.txt`: Python dependencies for running with OpenAI integration.

Agentic Loop architecture
1. Build a deterministic prompt including `design-tokens.json` values.
2. Request the LLM to output only file blocks in the exact marker format: `--- FILE: path/name.ext ---`.
3. Parse LLM output into files and validate:
   - Check that each design token (by value or name) appears in the generated output.
   - Basic syntax checks (balanced braces, unclosed HTML tags).
4. If errors are found, re-prompt the LLM with the error log and the previous output to fix issues. Repeat up to N retrieval

Next steps (optional)
- Add richer AST-based TypeScript validation.
- Integrate with an Angular playground / Vercel live preview.
- Add multi-turn editing: keep a session context and accept subsequent edits.
